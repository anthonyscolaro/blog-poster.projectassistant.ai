{% extends "base.html" %}

{% block title %}Features{% endblock %}
{% block page_title %}Features{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Hero Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="hero-card border-0 text-white">
                <div class="hero-overlay"></div>
                <div class="hero-content p-5">
                    <div class="d-flex align-items-center mb-4">
                        <div class="hero-icon-wrapper me-4">
                            <i class="bi bi-rocket-takeoff hero-icon"></i>
                        </div>
                        <div>
                            <h1 class="display-3 fw-bold mb-2">Blog Poster v1.0</h1>
                            <p class="lead mb-0 hero-subtitle">
                                Multi-Agent SEO Content Generation & Publishing System
                            </p>
                        </div>
                    </div>
                    <div class="hero-description">
                        <p class="fs-5 mb-0">
                            An intelligent, automated content pipeline that leverages 5 specialized AI agents to monitor competitors, 
                            identify opportunities, generate SEO-optimized articles, verify legal accuracy, and publish directly to WordPress.
                        </p>
                    </div>
                    <div class="hero-badges mt-4">
                        <span class="badge bg-white text-primary me-2 px-3 py-2">
                            <i class="bi bi-check-circle-fill"></i> Production Ready
                        </span>
                        <span class="badge bg-white text-primary me-2 px-3 py-2">
                            <i class="bi bi-lightning-fill"></i> FastAPI Powered
                        </span>
                        <span class="badge bg-white text-primary me-2 px-3 py-2">
                            <i class="bi bi-box-seam-fill"></i> Docker Deployed
                        </span>
                        <span class="badge bg-white text-primary px-3 py-2">
                            <i class="bi bi-shield-check"></i> ADA Compliant
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Core Features Grid -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-stars text-primary"></i> Core Features
            </h2>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-primary bg-opacity-10 p-3 me-3">
                            <i class="bi bi-robot text-primary fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Multi-Agent Architecture</h5>
                    </div>
                    <p class="card-text">
                        5 specialized AI agents working in sequence to monitor competitors, analyze topics, 
                        generate content, fact-check claims, and publish to WordPress.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-success bg-opacity-10 p-3 me-3">
                            <i class="bi bi-search text-success fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">SEO Excellence</h5>
                    </div>
                    <p class="card-text">
                        Every piece of content optimized for search engines with title tags, meta descriptions, 
                        schema.org structured data, and internal linking strategies.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-info bg-opacity-10 p-3 me-3">
                            <i class="bi bi-shield-check text-info fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Legal Fact Checking</h5>
                    </div>
                    <p class="card-text">
                        Automated verification of ADA compliance claims with proper legal citations 
                        (28 CFR §36.302, etc.) and distinction between service dogs and ESAs.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-warning bg-opacity-10 p-3 me-3">
                            <i class="bi bi-wordpress text-warning fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">WordPress Integration</h5>
                    </div>
                    <p class="card-text">
                        Seamless publishing via WPGraphQL and REST API with JWT authentication, 
                        application passwords, and SSL support for secure deployment.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-danger bg-opacity-10 p-3 me-3">
                            <i class="bi bi-currency-dollar text-danger fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Cost Management</h5>
                    </div>
                    <p class="card-text">
                        Real-time tracking of LLM API usage with per-article costs, monthly budget limits, 
                        80% threshold alerts, and automatic generation pause at budget cap.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-secondary bg-opacity-10 p-3 me-3">
                            <i class="bi bi-box-seam text-secondary fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Docker Deployment</h5>
                    </div>
                    <p class="card-text">
                        Production-ready Docker compose stack with FastAPI, Qdrant vector DB, 
                        PostgreSQL with pgvector, and Redis queue for scalable operations.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Agent Pipeline -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-diagram-3 text-primary"></i> Agent Pipeline
            </h2>
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="d-flex">
                                <div class="badge bg-primary rounded-circle me-3" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">1</div>
                                <div>
                                    <h6 class="fw-bold">Competitor Monitoring Agent</h6>
                                    <p class="text-muted mb-0">Tracks industry content trends using Jina AI web scraping</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="d-flex">
                                <div class="badge bg-primary rounded-circle me-3" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">2</div>
                                <div>
                                    <h6 class="fw-bold">Topic Analysis Agent</h6>
                                    <p class="text-muted mb-0">Identifies high-value SEO opportunities and content gaps</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="d-flex">
                                <div class="badge bg-primary rounded-circle me-3" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">3</div>
                                <div>
                                    <h6 class="fw-bold">Article Generation Agent</h6>
                                    <p class="text-muted mb-0">Creates SEO-optimized content with Claude 3.5 Sonnet</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="d-flex">
                                <div class="badge bg-primary rounded-circle me-3" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">4</div>
                                <div>
                                    <h6 class="fw-bold">Legal Fact Checker Agent</h6>
                                    <p class="text-muted mb-0">Verifies ADA compliance claims and legal accuracy</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="d-flex">
                                <div class="badge bg-primary rounded-circle me-3" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">5</div>
                                <div>
                                    <h6 class="fw-bold">WordPress Publishing Agent</h6>
                                    <p class="text-muted mb-0">Handles automated content deployment to WordPress</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Technical Specifications -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-cpu text-primary"></i> Technical Specifications
            </h2>
        </div>
        
        <div class="col-md-6 mb-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-light">
                    <h5 class="mb-0">
                        <i class="bi bi-server"></i> Service Architecture
                    </h5>
                </div>
                <div class="card-body">
                    <table class="table table-sm">
                        <tbody>
                            <tr>
                                <td class="fw-bold">API Service</td>
                                <td>FastAPI on port 8088</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Vector Database</td>
                                <td>Qdrant on port 6333</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">PostgreSQL</td>
                                <td>pgvector on port 5433</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Queue System</td>
                                <td>Redis on port 6384</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">LLM Models</td>
                                <td>Claude 3.5 Sonnet / GPT-4 Turbo</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-light">
                    <h5 class="mb-0">
                        <i class="bi bi-sliders"></i> SEO Standards
                    </h5>
                </div>
                <div class="card-body">
                    <table class="table table-sm">
                        <tbody>
                            <tr>
                                <td class="fw-bold">Title Tags</td>
                                <td>Under 60 characters</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Meta Descriptions</td>
                                <td>Under 155 characters</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Article Length</td>
                                <td>Minimum 1500 words</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Internal Links</td>
                                <td>Related content linking</td>
                            </tr>
                            <tr>
                                <td class="fw-bold">Structured Data</td>
                                <td>Schema.org JSON-LD</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- API Endpoints -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-plug text-primary"></i> API Endpoints
            </h2>
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Endpoint</th>
                                    <th>Method</th>
                                    <th>Description</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>/agent/run</code></td>
                                    <td><span class="badge bg-success">POST</span></td>
                                    <td>Trigger full article generation workflow</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td><code>/seo/lint</code></td>
                                    <td><span class="badge bg-success">POST</span></td>
                                    <td>Validate SEO compliance</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td><code>/publish/wp</code></td>
                                    <td><span class="badge bg-success">POST</span></td>
                                    <td>Publish to WordPress</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td><code>/health</code></td>
                                    <td><span class="badge bg-primary">GET</span></td>
                                    <td>Service health check</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td><code>/pipeline/run</code></td>
                                    <td><span class="badge bg-success">POST</span></td>
                                    <td>Run complete pipeline</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td><code>/config/profiles</code></td>
                                    <td><span class="badge bg-primary">GET</span></td>
                                    <td>List configuration profiles</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Workflow States -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-activity text-primary"></i> Workflow Management
            </h2>
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Pipeline States</h5>
                    <div class="row">
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-secondary me-2">PENDING</span>
                            <small class="text-muted">Awaiting start</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-info me-2">MONITORING</span>
                            <small class="text-muted">Scanning competitors</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-info me-2">ANALYZING</span>
                            <small class="text-muted">Topic analysis</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-primary me-2">GENERATING</span>
                            <small class="text-muted">Creating content</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-warning me-2">FACT_CHECKING</span>
                            <small class="text-muted">Verifying claims</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-primary me-2">PUBLISHING</span>
                            <small class="text-muted">Deploying to WP</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-success me-2">PUBLISHED</span>
                            <small class="text-muted">Complete</small>
                        </div>
                        <div class="col-md-3 mb-2">
                            <span class="badge bg-danger me-2">FAILED</span>
                            <small class="text-muted">Error occurred</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Error Handling & Recovery -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-shield text-primary"></i> Error Handling & Recovery
            </h2>
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="card-title">Automatic Recovery</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle text-success"></i> WordPress connection retry with exponential backoff</li>
                                <li><i class="bi bi-check-circle text-success"></i> Local draft storage for manual recovery</li>
                                <li><i class="bi bi-check-circle text-success"></i> Fallback to OpenAI when Claude rate limited</li>
                                <li><i class="bi bi-check-circle text-success"></i> Queue articles for later processing</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 class="card-title">Safety Controls</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-exclamation-triangle text-warning"></i> Block publication on fact check failure</li>
                                <li><i class="bi bi-exclamation-triangle text-warning"></i> Alert human reviewer for disputed claims</li>
                                <li><i class="bi bi-exclamation-triangle text-warning"></i> Pause at 80% budget threshold</li>
                                <li><i class="bi bi-exclamation-triangle text-warning"></i> Complete only in-progress articles on overrun</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Monitoring & Analytics -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-4">
                <i class="bi bi-graph-up text-primary"></i> Monitoring & Analytics
            </h2>
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5 class="card-title">
                                <i class="bi bi-speedometer2 text-info"></i> Metrics Tracked
                            </h5>
                            <ul class="small">
                                <li>Articles published per day</li>
                                <li>Average generation time</li>
                                <li>Cost per article</li>
                                <li>SEO score distribution</li>
                                <li>Fact check pass rate</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5 class="card-title">
                                <i class="bi bi-bell text-warning"></i> Alert Triggers
                            </h5>
                            <ul class="small">
                                <li>Service downtime > 5 minutes</li>
                                <li>Cost threshold exceeded</li>
                                <li>Fact check failures > 10%</li>
                                <li>WordPress auth failures</li>
                                <li>API rate limit reached</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5 class="card-title">
                                <i class="bi bi-journal-text text-success"></i> Logging
                            </h5>
                            <ul class="small">
                                <li>All agent interactions</li>
                                <li>API requests/responses</li>
                                <li>Cost tracking details</li>
                                <li>Error traces & stack traces</li>
                                <li>Performance metrics</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Version Information -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-0 bg-light">
                <div class="card-body text-center">
                    <h5 class="card-title">Version 1.0</h5>
                    <p class="card-text text-muted mb-0">
                        Blog Poster Multi-Agent System • Built with FastAPI, Docker, and AI • 
                        <a href="/docs" target="_blank">API Documentation</a> • 
                        <a href="https://github.com/your-repo" target="_blank">GitHub</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Hero Section Styles */
    .hero-card {
        position: relative;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
    }
    
    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.05" d="M0,224L48,208C96,192,192,160,288,154.7C384,149,480,171,576,186.7C672,203,768,213,864,218.7C960,224,1056,224,1152,197.3C1248,171,1344,117,1392,90.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
        background-size: cover;
        opacity: 0.3;
    }
    
    .hero-content {
        position: relative;
        z-index: 1;
    }
    
    .hero-icon-wrapper {
        width: 80px;
        height: 80px;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }
    
    .hero-icon {
        font-size: 40px;
        color: white;
    }
    
    .hero-subtitle {
        font-weight: 300;
        opacity: 0.95;
        letter-spacing: 0.5px;
    }
    
    .hero-description {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .hero-badges .badge {
        font-weight: 500;
        font-size: 0.875rem;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .hero-content {
            padding: 2rem !important;
        }
        
        .display-3 {
            font-size: 2rem;
        }
        
        .hero-icon-wrapper {
            width: 60px;
            height: 60px;
        }
        
        .hero-icon {
            font-size: 30px;
        }
        
        .hero-badges .badge {
            display: block;
            width: fit-content;
            margin: 0.25rem 0 !important;
        }
    }
    
    /* Dark theme adjustments */
    [data-theme="dark"] .hero-card {
        background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }
    
    [data-theme="dark"] .hero-description {
        background: rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.1);
    }
    
    [data-theme="dark"] .hero-badges .badge {
        background-color: rgba(255, 255, 255, 0.1) !important;
        color: white !important;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    /* General styles */
    code {
        background-color: #f8f9fa;
        padding: 2px 6px;
        border-radius: 3px;
        color: #e83e8c;
    }
    
    [data-theme="dark"] code {
        background-color: #2d2d2d;
        color: #ff6b6b;
    }
</style>
{% endblock %}